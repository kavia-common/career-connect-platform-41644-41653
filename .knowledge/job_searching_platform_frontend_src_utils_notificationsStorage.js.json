{"is_source_file": true, "format": "JavaScript", "description": "This file provides utilities for client-side persistence and management of notifications, including loading, saving, toggling read status, marking all as read, counting unread notifications, and resetting notifications. It uses localStorage for persistence and initializes from a static seed.", "external_files": ["../data/initialNotifications"], "external_methods": ["initialNotifications"], "published": ["loadNotifications", "saveNotifications", "markAllNotificationsRead", "toggleNotificationRead", "getUnreadCount", "resetNotifications"], "classes": [], "methods": [{"name": "safeJsonParse(raw, fallback)", "description": "Safely parses a JSON string, returning a fallback value on parse error.", "scope": "", "scopeKind": ""}, {"name": "makeId(prefix = \"ntf\")", "description": "Generates a unique notification ID with an optional prefix.", "scope": "", "scopeKind": ""}, {"name": "normalizeSeedNotification(n)", "description": "Normalizes a notification object to ensure it has standard fields and format.", "scope": "", "scopeKind": ""}, {"name": "makeSeed()", "description": "Creates an array of normalized seed notifications from static data.", "scope": "", "scopeKind": ""}, {"name": "loadNotifications()", "description": "Loads notifications from localStorage, merging with seed data, or returns seed if none are stored or an error occurs.", "scope": "", "scopeKind": ""}, {"name": "saveNotifications(notifications)", "description": "Persists the current list of notifications to localStorage.", "scope": "", "scopeKind": ""}, {"name": "markAllNotificationsRead()", "description": "Marks all notifications as read and saves the updated list.", "scope": "", "scopeKind": ""}, {"name": "toggleNotificationRead(notifications, id)", "description": "Toggles the read/unread status of a specific notification by ID.", "scope": "", "scopeKind": ""}, {"name": "getUnreadCount(notifications)", "description": "Returns the count of notifications that are currently unread.", "scope": "", "scopeKind": ""}, {"name": "resetNotifications()", "description": "Clears local storage so notifications revert to the initial seed state.", "scope": "", "scopeKind": ""}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "JSON.parse", "JSON.stringify"], "search-terms": ["notificationsStorage", "localStorage", "seedNotifications", "mergePersisted", "toggleRead"], "state": 2, "file_id": 58, "knowledge_revision": 223, "git_revision": "501d084d0f1f919899bcb392f4a57ddf978f184a", "revision_history": [{"191": "501d084d0f1f919899bcb392f4a57ddf978f184a"}, {"223": "501d084d0f1f919899bcb392f4a57ddf978f184a"}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^const STORAGE_KEY = \"cc.notifications.v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getUnreadCount", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^export function getUnreadCount(notifications) {$/", "language": "JavaScript", "kind": "function", "signature": "(notifications)"}, {"_type": "tag", "name": "loadNotifications", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^export function loadNotifications() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "makeId", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^function makeId(prefix = \"ntf\") {$/", "language": "JavaScript", "kind": "function", "signature": "(prefix = \"ntf\")"}, {"_type": "tag", "name": "makeSeed", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^function makeSeed() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "markAllNotificationsRead", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^export function markAllNotificationsRead() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeSeedNotification", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^function normalizeSeedNotification(n) {$/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "resetNotifications", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^export function resetNotifications() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "safeJsonParse", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^function safeJsonParse(raw, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw, fallback)"}, {"_type": "tag", "name": "saveNotifications", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^export function saveNotifications(notifications) {$/", "language": "JavaScript", "kind": "function", "signature": "(notifications)"}, {"_type": "tag", "name": "toggleNotificationRead", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/utils/notificationsStorage.js", "pattern": "/^export function toggleNotificationRead(notifications, id) {$/", "language": "JavaScript", "kind": "function", "signature": "(notifications, id)"}], "hash": "1af96936116805d1fdeea1c9b6eec1f7", "format-version": 4, "code-base-name": "job_searching_platform_frontend", "filename": "job_searching_platform_frontend/src/utils/notificationsStorage.js"}