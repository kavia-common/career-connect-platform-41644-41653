{"is_source_file": true, "format": "JavaScript", "description": "This file implements a React hook 'useRealtimeNotifications' that subscribes to real-time notifications from a Supabase backend, manages notification state, and synchronizes with local storage and global state for notification counts.", "external_files": ["../services/supabaseClient", "../state/authStore", "../utils/notificationsStorage", "../state/notificationsStore"], "external_methods": ["supabase.removeChannel", "supabase.channel", "setUnreadCount", "getUnreadCount", "loadNotifications", "saveNotifications", "useAuth", "useNotificationsStore"], "published": ["useRealtimeNotifications"], "classes": [], "methods": [{"name": "mapRowToNotification(row)", "description": "Converts a database row into the application's notification object, handling schema drift and different possible field names.", "scope": "", "scopeKind": ""}, {"name": "upsertById(list, nextItem)", "description": "Inserts or updates a notification in the list based on its ID, merging server updates over local copies.", "scope": "", "scopeKind": ""}, {"name": "isSupabaseConfigured()", "description": "Checks if the necessary environment variables for Supabase are set and non-empty.", "scope": "", "scopeKind": ""}, {"name": "teardown()", "scope": "useRealtimeNotifications", "scopeKind": "function", "description": "unavailable"}, {"name": "useRealtimeNotifications()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["useAuth", "useNotificationsStore", "useEffect", "useRef", "supabase.removeChannel", "supabase.channel", "loadNotifications", "saveNotifications", "getUnreadCount", "setUnreadCount", "mapRowToNotification", "upsertById"], "search-terms": ["useRealtimeNotifications", "Supabase notifications", "React hook notifications", "notifications realtime subscription", "notifications storage", "Supabase channel", "schema drift notifications", "notifications RLS"], "state": 2, "file_id": 59, "knowledge_revision": 194, "git_revision": "", "ctags": [{"_type": "tag", "name": "isSupabaseConfigured", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/hooks/useRealtimeNotifications.js", "pattern": "/^function isSupabaseConfigured() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mapRowToNotification", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/hooks/useRealtimeNotifications.js", "pattern": "/^function mapRowToNotification(row) {$/", "language": "JavaScript", "kind": "function", "signature": "(row)"}, {"_type": "tag", "name": "teardown", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/hooks/useRealtimeNotifications.js", "pattern": "/^    async function teardown() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "useRealtimeNotifications", "scopeKind": "function"}, {"_type": "tag", "name": "upsertById", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/hooks/useRealtimeNotifications.js", "pattern": "/^function upsertById(list, nextItem) {$/", "language": "JavaScript", "kind": "function", "signature": "(list, nextItem)"}, {"_type": "tag", "name": "useRealtimeNotifications", "path": "/home/kavia/workspace/code-generation/career-connect-platform-41644-41653/job_searching_platform_frontend/src/hooks/useRealtimeNotifications.js", "pattern": "/^export function useRealtimeNotifications() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "4a7ae26db2b4629a6d309a4294322abb", "format-version": 4, "code-base-name": "job_searching_platform_frontend", "filename": "job_searching_platform_frontend/src/hooks/useRealtimeNotifications.js", "revision_history": [{"194": ""}]}